<div *ngIf="book">
  <h2>{{ book.title }}</h2>
  <p><strong>Author:</strong> {{ book.author }}</p>
  <p><strong>Description:</strong> {{ book.description }}</p>
  <p><strong>Average Rating:</strong> {{ avgRating !== null ? avgRating.toFixed(1) : 'No ratings yet' }}</p>

  <button (click)="download()">Download Book</button>

  <div class="rating-form">
    <h3>Leave a Rating</h3>
    <input type="number" [(ngModel)]="rating" min="1" max="5" />
    <textarea [(ngModel)]="comment" placeholder="Optional comment..."></textarea>
    <button (click)="submitRating()">Submit</button>
  </div>

  <div *ngIf="book.feedback?.length">
    <h3>Comments</h3>
    <ul>
      <li *ngFor="let feedback of book.feedback">{{ feedback }}</li>
    </ul>
  </div>
</div>



<!-- <div class="detail-container">
  <h2>{{ book?.title }}</h2>
  <p>{{ book?.author }}</p>
  <p>{{ book?.description }}</p>
  <p>Rating: {{ book?.rating }}</p>
  <input type="number" [(ngModel)]="rating" min="1" max="5" placeholder="Rate (1-5)" />
  <textarea [(ngModel)]="comment" placeholder="Leave a comment"></textarea>
  <button (click)="submitRating()">Submit</button>
</div> -->